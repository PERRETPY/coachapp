<div class="container">
  <div *ngIf="user">

    <form (ngSubmit)="onSubmit()">
      <label>Lien du document Google sheet</label>
      <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="button-addon2" required [(ngModel)]="sheetUrl" name="sheetId" [placeholder]="this.spreadSheetIsSet() ? 'Le lien est déjà enregistré' : ''">
        <button class="btn btn-success" type="submit" id="button-addon2">Valider</button>
      </div>
    </form>

    <div *ngIf="!spreadSheetIsSet()">
      <p>Merci de renseigner le lien du google sheet</p>
    </div>

    <div *ngIf="spreadSheetIsSet() && allWorkoutList">
      <div class="filter-container">
        <div class="left-content">
          <div class="filter">
            <p>Filtrer par</p>
            <select class="form-select" aria-label="Default select example" [(ngModel)]="stateFilter" (change)="onFilterWorkouts()">
              <option *ngFor="let property of filterProperties" [value]="property">{{ property }}</option>
            </select>
          </div>
          <div class="sort">
            <p>Trier par</p>
            <select class="form-select" aria-label="Default select example" [(ngModel)]="sortProperty" (change)="onSortWorkouts()">
              <option *ngFor="let property of sortProperties" [value]="property">{{ property }}</option>
            </select>
          </div>
        </div>
        <div class="right-content">
          <form (ngSubmit)="onSearchWorkouts()">
            <div class="input-group search-input">
              <input type="text" class="form-control" required [(ngModel)]="search" name="sheetId" placeholder="Rechercher un entrainement">
              <button class="btn btn-primary" type="submit" id="search">Chercher</button>
            </div>
          </form>
        </div>
      </div>
      <div class="content">
        <app-workout-list [workoutList]="filterWorkoutList"></app-workout-list>
      </div>
    </div>



  </div>
  <div *ngIf="!user">
    Merci de vous connecter à l'aide de votre compte Google !
  </div>
</div>
